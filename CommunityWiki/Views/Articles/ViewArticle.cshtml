@model CommunityWiki.Models.Articles.ArticleViewModel
@{
    ViewData["Title"] = Model.Title;
}

<div class="pull-right">
    <a asp-action="Edit" asp-route-id="@Model.Id">Edit</a>
</div>

<div class="article-status-labels">
    <article-status Article="Model" />
</div>

<div class="article-body">
    @Html.Raw(Model.Body)
</div>

@if (Model.Revisions.Any())
{
    <hr />
    <h4>Revisions (@Model.RevisionCount)</h4>

    <table class="table table-condensed table-striped revisions">
        <tr>
            <th style="width: 10%">Date</th>
            <th style="width: 15%">Author</th>
            <th style="width: 15%">Score (at rev)</th>
            <th style="width: 50%">Comment</th>
            <th style="width: 10%"></th>
        </tr>
        @foreach(var rev in Model.Revisions)
        {
            <tr>
                <td>@rev.RevisionDate.ToString("d")</td>
                <td>@rev.RevisionUserName</td>
                <td>@rev.Score</td>
                <td>@rev.Comment</td>
                <td><a asp-action="CompareRevision" asp-route-articleId="@Model.Id" asp-route-revisionId="@rev.Id">Compare</a></td>
            </tr>
        }
    </table>
}